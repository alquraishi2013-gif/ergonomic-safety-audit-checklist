<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ù‚Ø§Ø¦Ù…Ø© ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø© â€“ Ø¨Ø§Ø¨-Ø¨Ø§Ø¨</title>
<style>
Â  :root{--bg:#f7f8fb;--ink:#111;--muted:#666;--line:#e5e7eb;--card:#fff;--accent:#2563eb}
Â  *{box-sizing:border-box}
Â  body{margin:0;background:var(--bg);color:var(--ink);font-family:"Noto Kufi Arabic","Cairo",Tahoma,Arial,sans-serif}
Â  .wrap{max-width:1100px;margin:auto;padding:20px}
Â  .card{background:var(--card);border:1px solid #ddd;border-radius:14px;padding:20px}
Â  .header{display:flex;align-items:center;gap:12px;margin-bottom:10px}
Â  .logo{height:70px;object-fit:contain}
Â  h1{margin:.2rem 0 1rem;font-size:22px}
Â  .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
Â  .btn{padding:8px 14px;border-radius:10px;cursor:pointer;margin:2px 0;font-size:14px;border:1px solid #ddd;background:#fff}
Â  .btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
Â  .btn.warn{background:#fff3cd;border-color:#fcd34d}
Â  label{display:block}
Â  input[type="text"],input[type="search"],input[type="number"],input[type="color"],select{padding:6px 10px;border:1px solid #ccc;border-radius:10px}
Â  input[type="text"],input[type="search"]{width:100%}
Â  table{width:100%;border-collapse:collapse;margin-top:10px}
Â  th,td{border:1px solid #ccc;padding:8px;vertical-align:top}
Â  th{background:#eef2ff}
Â  [contenteditable]{outline:0;min-height:30px}
Â  .muted{color:var(--muted);font-size:.9rem}
Â  .grid{display:grid;gap:10px}
Â  .grid-2{grid-template-columns:1fr 1fr}
Â  .right{margin-inline-start:auto}
Â  .sticky-head thead th{position:sticky;top:0;z-index:1}
Â  .inline-help{font-size:.85rem;color:#555;margin-top:6px}
Â  .sep{height:1px;background:#eee;margin:12px 0}
Â  .rowlead{display:flex;align-items:center;gap:8px}
Â  .ord{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:8px;background:#eef2ff;font-weight:600}
Â  tr.dragging{opacity:.6}
Â  details summary{cursor:pointer}
Â  dialog{border:1px solid #ddd;border-radius:12px;padding:0;max-width:720px;width:min(92vw,720px)}
Â  .dlg-head{padding:12px 16px;border-bottom:1px solid #eee;font-weight:700}
Â  .dlg-body{padding:12px 16px}
Â  .dlg-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
Â  .dlg-actions{padding:12px 16px;border-top:1px solid #eee;display:flex;gap:8px;justify-content:flex-end}
Â  textarea{width:100%;height:220px;padding:10px;border:1px solid #ccc;border-radius:10px;resize:vertical}
Â  .pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#eef2ff;border:1px solid #c7d2fe;font-size:.8rem;color:#374151}
Â  @media (max-width:720px){.grid-2{grid-template-columns:1fr}.dlg-grid{grid-template-columns:1fr}}
Â  @media print{.no-print{display:none} body{background:#fff}}
</style>
</head>
<body>
<div class="wrap">
Â  <section class="card">
Â  Â  <div class="header">
Â  Â  Â  <img id="companyLogo" src="" class="logo" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©" hidden>
Â  Â  Â  <div>
Â  Â  Â  Â  <h1 id="title">Ù‚Ø§Ø¦Ù…Ø© ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø© â€“ </h1>
Â  Â  Â  Â  <div id="ref" class="muted"></div>
Â  Â  Â  </div>
Â  Â  Â  <button class="btn right no-print" id="printBtn">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / PDF</button>
Â  Â  </div>

Â  Â  Â  Â  <div class="toolbar no-print">
Â  Â  Â  <button class="btn" id="langAr">ğŸ‡¸ğŸ‡¦ Ø¹Ø±Ø¨ÙŠ</button>
Â  Â  Â  <button class="btn" id="langEn">ğŸ‡¬ğŸ‡§ English</button>
Â  Â  Â  <span style="flex:1"></span>
Â  Â  Â  <label class="muted"><input type="checkbox" id="optAutoFill" checked> âš¡ ØªØ¹Ø¨Ø¦Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø¨Ø§Ø¨</label>
Â  Â  Â  <button class="btn" id="saveDraft">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ø³ÙˆØ¯Ø©</button>
Â  Â  Â  <button class="btn warn" id="clearDraft">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ù…Ø³ÙˆØ¯Ø©</button>
Â  Â  </div>

Â  Â  Â  Â  <div class="grid grid-2 no-print">
Â  Â  Â  <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„:
Â  Â  Â  Â  <input id="client" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø´Ø±ÙƒØ© Ø§Ù„Ø®Ù„ÙŠØ¬ Ù„Ù„ØµÙ†Ø§Ø¹Ø§Øª">
Â  Â  Â  </label>
Â  Â  Â  <label>Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹:
Â  Â  Â  Â  <input id="site" type="text" placeholder="Ù…Ø«Ø§Ù„: Ù…ØµÙ†Ø¹ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© â€“ Ø§Ù„Ø´Ø¹ÙŠØ¨Ø©">
Â  Â  Â  </label>
Â  Â  Â  <label>Ø±ÙØ¹ Ø§Ù„Ø´Ø¹Ø§Ø±:
Â  Â  Â  Â  <input id="logoInput" type="file" accept="image/*">
Â  Â  Â  </label>
Â  Â  Â  <label>Ø±Ù‚Ù… Ø§Ù„Ø¨Ø§Ø¨:
Â  Â  Â  Â  <input id="chapterNo" type="text" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: Ù¤ Ø£Ùˆ 4">
Â  Â  Â  </label>
Â  Â  Â  <label>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¨:
Â  Â  Â  Â  <input id="chapterName" type="text" placeholder="Ù…Ø«Ø§Ù„: ØªØ¯Ø§ÙˆÙ„ ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¯">
Â  Â  Â  </label>
Â  Â  Â  <div>
Â  Â  Â  Â  <label>Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨Ù†ÙˆØ¯:
Â  Â  Â  Â  Â  <input id="filter" type="search" placeholder="Ø§ÙƒØªØ¨ ÙƒÙ„Ù…Ø© Ù„Ù„ÙÙ„ØªØ±Ø©â€¦">
Â  Â  Â  Â  </label>
Â  Â  Â  Â  <div class="inline-help">Ù…Ø«Ø§Ù„: Ø³Ù‚Ø§Ù„Ø§ØªØŒ Ù…Ø®Ø§Ø±Ø¬ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ØŒ Ø­ÙˆØ§Ø¬Ø² Ø§Ù„Ø¢Ù„Ø§Øªâ€¦</div>
Â  Â  Â  </div>
Â  Â  </div>

Â  Â  Â  Â  <div class="toolbar no-print">
Â  Â  Â  <span class="muted">ğŸ“š Ù‚ÙˆØ§Ù„Ø¨ Ø³Ø±ÙŠØ¹Ø©:</span>
Â  Â  Â  <button class="btn" id="tplCh1">Ø¨Ø§Ø¨ 1</button>
Â  Â  Â  <button class="btn" id="tplCh2">Ø¨Ø§Ø¨ 2</button>
Â  Â  Â  <button class="btn" id="tplCh3">Ø¨Ø§Ø¨ 3</button>
Â  Â  Â  <button class="btn" id="tplCh4">Ø¨Ø§Ø¨ 4</button>
Â  Â  Â  <button class="btn" id="tplCh5">Ø¨Ø§Ø¨ 5</button>
Â  Â  Â  <button class="btn" id="tplCh6">Ø¨Ø§Ø¨ 6</button>
Â  Â  Â  <button class="btn" id="tplCh7">Ø¨Ø§Ø¨ 7</button>
Â  Â  Â  <button class="btn" id="tplCh8">Ø¨Ø§Ø¨ 8</button>
Â  Â  Â  <button class="btn" id="tplErgo">Ergonomic</button>
Â  Â  Â  <span id="tplUserContainer" class="muted" style="display:flex;gap:6px;flex-wrap:wrap"></span>
Â  Â  Â  <button class="btn" id="saveAsTemplate">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙƒÙ‚Ø§Ù„Ø¨</button>
Â  Â  Â  <button class="btn" id="pasteFromWord">ğŸ“‹ Ù„ØµÙ‚ Ù…Ù† Word</button>
Â  Â  Â  <span style="flex:1"></span>
Â  Â  Â  <label class="muted"><input type="checkbox" id="optChecks" checked> Ø£Ø¹Ù…Ø¯Ø© âœ”/âœ–</label>
Â  Â  Â  <label class="muted"><input type="checkbox" id="optRisk"> ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø®Ø§Ø·Ø± (1â€“5)</label>
Â  Â  Â  <label class="muted">Ø¥Ø·Ø§Ø±:
Â  Â  Â  Â  <input id="optBorderW" type="number" min="0" max="6" value="1" style="width:60px"> px
Â  Â  Â  Â  <input id="optBorderColor" type="color" value="#333333">
Â  Â  Â  </label>
Â  Â  Â  <label class="muted">Ø­Ø¬Ù… Ø§Ù„Ø´Ø¹Ø§Ø±:
Â  Â  Â  Â  <input id="optLogoIn" type="number" min="0.8" max="2.0" step="0.1" value="1.3" style="width:70px"> in
Â  Â  Â  </label>
Â  Â  Â  <button class="btn" id="exportPdf">ğŸ§¾ Ø·Ø¨Ø§Ø¹Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨ Ø¥Ù„Ù‰ PDF</button>
Â  Â  </div>

Â  Â  Â  Â  <div class="toolbar no-print">
Â  Â  Â  <button class="btn" id="selectAll">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„</button>
Â  Â  Â  <button class="btn" id="clearAll">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯</button>
Â  Â  Â  <button class="btn" id="addRow">â• Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯</button>
Â  Â  Â  <button class="btn" id="deleteChecked">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
Â  Â  Â  <span style="flex:1"></span>

Â  Â  Â  Â  Â  Â  <button class="btn" id="exportThisHtml">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨ (HTML)</button>
        <button class="btn primary" id="exportAuditorHtml">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ù†Ø³Ø®Ø© Ø§Ù„Ø¹Ù…Ù„ Ù„Ù„Ù…Ø¯Ù‚Ù‚ (HTML)</button>

Â  Â  Â  Â  Â  Â  <button class="btn" id="bundleAdd">â• Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</button>
Â  Â  Â  <button class="btn" id="bundleClear">â™»ï¸ ØªÙØ±ÙŠØº Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
Â  Â  Â  <button class="btn primary" id="bundleExport">ğŸ—‚ï¸ ØªØµØ¯ÙŠØ± Ø¨Ø§Ø¨-Ø¨Ø§Ø¨ (ÙŠÙØªØ­ ØªØ¨ÙˆÙŠØ¨Ø§Øª)</button>
Â  Â  </div>

Â  Â  Â  Â  <table id="tbl" class="sticky-head">
Â  Â  Â  <thead>
Â  Â  Â  Â  <tr><th>Ø§Ø®ØªÙŠØ§Ø± / Ø±Ù‚Ù…</th><th>Ø¨Ù†Ø¯ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚</th></tr>
Â  Â  Â  </thead>
Â  Â  Â  <tbody></tbody>
Â  Â  </table>

Â  Â  <div class="sep"></div>
Â  Â  <div class="muted no-print">ØªÙ„Ù…ÙŠØ­: â€œâ• Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„â€ ØªØ­ÙØ¸ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨ ÙÙ‚Ø·ØŒ Ø«Ù… ØºÙŠÙ‘Ø± Ø±Ù‚Ù…/Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¨ ÙˆÙƒØ±Ø±. Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ â€œğŸ—‚ï¸ ØªØµØ¯ÙŠØ± Ø¨Ø§Ø¨-Ø¨Ø§Ø¨â€ Ø³ÙŠØªÙ… ÙØªØ­ ØªØ¨ÙˆÙŠØ¨ Ù„ÙƒÙ„ Ø¨Ø§Ø¨.</div>

Â  Â  <details class="tests no-print">
Â  Â  Â  <summary>âœ… Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø³Ø±ÙŠØ¹Ø©</summary>
Â  Â  Â  <div style="display:flex;gap:8px;flex-wrap:wrap;margin:6px 0">
Â  Â  Â  Â  <button class="btn" id="btnRunTests">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
Â  Â  Â  Â  <span class="pill">Ù„Ù† Ù†Ø¹Ø¯Ù‘Ù„ Ø£ÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙˆØ¬ÙˆØ¯Ø› Ø³Ù†Ø¶ÙŠÙ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ÙÙ‚Ø·</span>
Â  Â  Â  </div>
Â  Â  Â  <pre id="testOut" class="muted" style="white-space:pre-wrap"></pre>
Â  Â  </details>
Â  </section>
</div>

<dialog id="pasteDlg">
Â  <div class="dlg-head">ğŸ“‹ Ù„ØµÙ‚ Ø¨Ù†ÙˆØ¯ Ù…Ù† Word</div>
Â  <div class="dlg-body">
Â  Â  <div class="dlg-grid">
Â  Â  Â  <label>Ø±Ù‚Ù… Ø§Ù„Ø¨Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):
Â  Â  Â  Â  <input id="dlgChapterNo" type="text" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 4">
Â  Â  Â  </label>
Â  Â  Â  <label>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):
Â  Â  Â  Â  <input id="dlgChapterName" type="text" placeholder="Ù…Ø«Ø§Ù„: ØªØ¯Ø§ÙˆÙ„ ÙˆØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¯">
Â  Â  Â  </label>
Â  Â  </div>
Â  Â  <label>Ø§Ù„ØµÙ‚ Ø§Ù„Ø¨Ù†ÙˆØ¯ Ù‡Ù†Ø§ (Ø³Ø·Ø± Ù„ÙƒÙ„ Ø¨Ù†Ø¯):
Â  Â  Â  <textarea id="dlgText" placeholder="1- Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ø£ÙˆÙ„
â€¢ Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ø«Ø§Ù†ÙŠ
- Ø§Ù„Ø¨Ù†Ø¯ Ø§Ù„Ø«Ø§Ù„Ø«..."></textarea>
Â  Â  </label>
Â  Â  <div class="dlg-grid">
Â  Â  Â  <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬:
Â  Â  Â  Â  <select id="dlgMode">
Â  Â  Â  Â  Â  <option value="replace">Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</option>
Â  Â  Â  Â  Â  <option value="append">Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</option>
Â  Â  Â  Â  </select>
Â  Â  Â  </label>
Â  Â  Â  <label>Ø­ÙØ¸ ÙƒÙ‚Ø§Ù„Ø¨ Ø¨Ø§Ø³Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):
Â  Â  Â  Â  <input id="dlgTplName" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ù„Ø¨">
Â  Â  Â  </label>
Â  Â  </div>
Â  Â  <div class="inline-help" style="margin:6px 0 10px">Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø§Ù„ØªØ±Ù‚ÙŠÙ… ÙˆØ§Ù„Ø±Ù…ÙˆØ² (â€¢ - 1) ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.</div>
Â  Â  <div style="display:flex;gap:12px;flex-wrap:wrap">
Â  Â  Â  <label class="muted"><input type="checkbox" id="dlgBindChapter" checked> Ø±Ø¨Ø· ÙƒØ¨Ø§Ø¨ Ù„Ù„ØªØ¹Ø¨Ø¦Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©</label>
Â  Â  Â  <label class="muted"><input type="checkbox" id="dlgCopyToEn" checked> Ù†Ø³Ø® Ø§Ù„Ø¨Ù†ÙˆØ¯ Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ø£ÙŠØ¶Ù‹Ø§</label>
Â  Â  Â  <span class="pill">ÙŠÙÙŠØ¯ Ø¹Ù†Ø¯ Ø§Ù…ØªÙ„Ø§ÙƒÙƒ Ù†Øµ Ø¹Ø±Ø¨ÙŠ ÙÙ‚Ø·</span>
Â  Â  </div>
Â  </div>
Â  <div class="dlg-actions">
Â  Â  <button class="btn" id="dlgCancel" type="button">Ø¥Ù„ØºØ§Ø¡</button>
Â  Â  <button class="btn primary" id="dlgApply" type="button">ØªØ·Ø¨ÙŠÙ‚</button>
Â  </div>
</dialog>

<script>
(function(){
Â  document.addEventListener('DOMContentLoaded', function(){
Â  Â  // ===== Ø§Ù„Ø­Ø§Ù„Ø© =====
Â  Â  let state = {
Â  Â  Â  lang: 'ar',
Â  Â  Â  logoDataURL: '',
Â  Â  Â  chapter: { number: '', name: '' },
Â  Â  Â  items: { ar: [], en: [] },
Â  Â  Â  options: { includeChecks: true, includeRisk: false, borderW: 1, borderColor: '#333333', logoIn: 1.3, autoFill: true },
Â  Â  Â  sections: [] // [{no,name,itemsAr,itemsEn}]
Â  Â  };

Â  Â  const LS_KEY_DRAFTÂ  Â  = 'audit_generic_draft';
Â  Â  const LS_KEY_TPLÂ  Â  Â  = 'audit_user_templates_v1';
Â  Â  const LS_KEY_CHMAPÂ  Â  = 'audit_chapter_templates_v1';
Â  Â  const LS_KEY_SECTIONS = 'audit_sections_bundle_v1';

Â  Â  // ===== Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© (Ù„Ù… ØªØªØºÙŠØ±) =====
Â  Â  const templates = {
Â  Â  Â  ar: {
Â  Â  Â  Â  ch1:[
Â  Â  Â  Â  Â  "Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¯Ù„ÙŠÙ„ Ø¥Ø±Ø´Ø§Ø¯ÙŠ Ù„Ù„Ø³Ù„Ø§Ù…Ø© Ù…ÙƒØªÙˆØ¨ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆÙ„ØºØ© ÙŠÙÙ‡Ù…Ù‡Ø§ Ø§Ù„Ø¹Ù…Ø§Ù„",
Â  Â  Â  Â  Â  "ØªØ­Ø¯ÙŠØ¯ Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø¹Ù…Ù„ Ø­Ø³Ø¨ Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ù†Ø´Ø§Ø·",
Â  Â  Â  Â  Â  "ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ù‡ÙŠØ¦Ø© Ø¨Ø§Ù„Ù…Ø®Ø·Ø·Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©",
Â  Â  Â  Â  Â  "Ø¥Ø¨Ù„Ø§Øº ÙˆØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ÙˆÙ‚Ø§ÙŠØ© Ù‚Ø¨Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ø§Ù„Ø¹Ù…Ù„",
Â  Â  Â  Â  Â  "ØªÙˆÙÙŠØ± Ù…Ø¹Ø¯Ø§Øª Ø§Ù„ÙˆÙ‚Ø§ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ© Ù…Ø¬Ø§Ù†Ù‹Ø§ ÙˆØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§",
Â  Â  Â  Â  Â  "Ø§Ø¹ØªÙ…Ø§Ø¯ Ù„Ø§Ø¦Ø­Ø© Ø¬Ø²Ø§Ø¡Ø§Øª Ø®Ø§ØµØ© Ø¨Ù…Ø®Ø§Ù„ÙØ§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©",
Â  Â  Â  Â  Â  "ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø§Øª Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© ÙˆØªØ­Ø°ÙŠØ±ÙŠØ© ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ù„ØµÙ‚Ø§Øª Ø¨Ù„ØºØ© ÙŠÙÙ‡Ù…Ù‡Ø§ Ø§Ù„Ø¹Ù…Ø§Ù„",
Â  Â  Â  Â  Â  "ØªØ¹ÙŠÙŠÙ† Ù…Ø´Ø±Ù/Ù…Ø±Ø§Ù‚Ø¨ Ø³Ù„Ø§Ù…Ø© Ø­Ø³Ø¨ Ø­Ø¬Ù… ÙˆØ®Ø·ÙˆØ±Ø© Ø§Ù„Ù…Ù†Ø´Ø£Ø©",
Â  Â  Â  Â  Â  "ØªØ£Ù‡ÙŠÙ„ Ù…Ø´Ø±Ù Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø¨Ø´Ù‡Ø§Ø¯Ø© ÙˆØ®Ø¨Ø±Ø© Ù…Ù†Ø§Ø³Ø¨Ø©",
Â  Â  Â  Â  Â  "Ù„Ù„Ù…Ù†Ø´Ø¢Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø®Ø·ÙˆØ±Ø© (300+ Ø¹Ø§Ù…Ù„): Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø³Ù… Ø³Ù„Ø§Ù…Ø© ÙˆØµØ­Ø© Ù…Ù‡Ù†ÙŠØ©",
Â  Â  Â  Â  Â  "ØªØ¯Ø±ÙŠØ¨ Ø¯ÙˆØ±ÙŠ Ù„Ù…Ø´Ø±ÙÙŠ ÙˆÙ…Ø±Ø§Ù‚Ø¨ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…Ø©",
Â  Â  Â  Â  Â  "Ø¥Ø¬Ø±Ø§Ø¡ ØªÙØªÙŠØ´ Ø¯ÙˆØ±ÙŠ ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø­ÙˆØ§Ø¯Ø« ÙˆØ§Ù„Ø¥ØµØ§Ø¨Ø§Øª",
Â  Â  Â  Â  Â  "Ø¥Ø®Ø·Ø§Ø± Ø§Ù„Ù‡ÙŠØ¦Ø© Ø¨Ø§Ù„Ø­ÙˆØ§Ø¯Ø« Ø§Ù„Ø¬Ø³ÙŠÙ…Ø© Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©",
Â  Â  Â  Â  Â  "Ø­ÙØ¸ Ø³Ø¬Ù„Ø§Øª Ù…Ø­Ø¯Ø«Ø© Ù…ØªØ§Ø­Ø© Ù„Ù„Ù…ÙØªØ´ÙŠÙ†"
Â  Â  Â  Â  ],
Â  Â  Â  Â  ch2:["Ù…ØªØ§Ù†Ø© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ§Ù„Ø£Ø³Ù‚Ù","ØªØ¬Ù‡ÙŠØ² Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø¨Ù…Ø¸Ù„Ø§Øª/Ø£Ø³Ù‚Ù","Ù…Ù…Ø±Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø®Ø§Ø±Ø¬ Ø·ÙˆØ§Ø±Ø¦ Ø¢Ù…Ù†Ø©","Ø£Ø±Ø¶ÙŠØ§Øª Ø³Ù„ÙŠÙ…Ø© ÙˆÙ†Ø¸ÙŠÙØ© ÙˆØµØ±Ù Ù…ØºØ·Ù‰","Ø§Ù„ØªØ®Ù„Øµ Ø§Ù„Ø³Ù„ÙŠÙ… Ù…Ù† Ø§Ù„ÙØ¶Ù„Ø§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©","ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ© Ù„Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ§Ù„Ù…Ø±Ø§ÙÙ‚","ÙˆÙ‚Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø³Ù‚ÙˆØ· ÙˆØ§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·Ø© ÙˆØ§Ù„Ø­ÙØ±","Ø³Ù„Ø§Ù„Ù… Ù…ØªÙŠÙ†Ø© ØºÙŠØ± Ø²Ù„Ù‚Ø© ÙˆÙ…Ø²ÙˆØ¯Ø© Ø¨Ø­ÙˆØ§Ø¬Ø²","Ø³Ù‚Ø§Ù„Ø§Øª Ø¢Ù…Ù†Ø© Ù…Ø¹ Ø­ÙˆØ§Ø¬Ø² ÙˆØªØ«Ø¨ÙŠØª Ø¬ÙŠØ¯","Ø³Ù†Ø¯Ø±Ø§Øª/Ù…Ù†ØµØ§Øª Ù…Ø±Ø®ØµØ© ÙˆØ¢Ù…Ù†Ø©","Ø¹Ø²Ù„ Ù…ØµØ§Ø¯Ø± Ø§Ù„ØºØ¨Ø§Ø±/Ø§Ù„ØºØ§Ø²Ø§Øª Ù…Ø¹ Ø´ÙØ·","ÙØ­Øµ Ø£ÙˆØ¹ÙŠØ© Ø§Ù„Ø¶ØºØ·","Ø£Ø¯ÙˆØ§Øª ØµØ§Ù„Ø­Ø© ÙˆÙ…Ø­Ø¯Ø¯Ø© Ø£Ù…Ø§ÙƒÙ†Ù‡Ø§","Ù…Ø¹Ø¯Ø§Øª Ø¥Ø·ÙØ§Ø¡ Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆÙ…ÙˆØ²Ø¹Ø©"],
Â  Â  Â  Â  ch3:["ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø¹Ù…Ø§Ù„ Ø¹Ù„Ù‰ ÙˆÙ‚Ø§ÙŠØ© Ø§Ù„Ø¢Ù„Ø§Øª","Ù„Ø§ ØªØ´ØºÙŠÙ„ Ø¯ÙˆÙ† Ø­ÙˆØ§Ø¬Ø²","Ø¹Ø¯Ù… ØªØ¹Ø·ÙŠÙ„ Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„ÙˆÙ‚Ø§ÙŠØ©","Ù…Ø³Ø§ÙØ© 60 Ø³Ù… Ø­ÙˆÙ„ Ø§Ù„Ø¢Ù„Ø§Øª","Ø­ÙˆØ§Ø¬Ø² Ø¯Ø§Ø¦Ù…Ø© Ù„Ù„Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ø®Ø·Ø±Ø©","Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­ÙˆØ§Ø¬Ø² ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù","Ù…ÙØªØ§Ø­ Ø¥ÙŠÙ‚Ø§Ù Ø·Ø§Ø±Ø¦","ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ© Ø¨Ø³Ø¬Ù„Ø§Øª","ÙˆÙ‚Ø§ÙŠØ© Ù…Ù† Ø§Ù„Ø´Ø±Ø± ÙˆØ§Ù„Ø´Ø¸Ø§ÙŠØ§"],
Â  Â  Â  Â  ch4:[
Â  Â  Â  Â  Â  "ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ø®Ø§Ù…Ø§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø¢Ù…Ù†Ø© Ù„Ø§ ØªØ´ÙƒÙ„ Ø®Ø·Ø±Ø§Ù‹ Ø¹Ù„Ù‰ Ø³Ù„Ø§Ù…Ø© Ø§Ù„Ø¹Ø§Ù…Ù„ÙŠÙ†",
Â  Â  Â  Â  Â  "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø±ÙØ¹ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØµÙŠØ§Ù†ØªÙ‡Ø§ Ø¯ÙˆØ±ÙŠØ§Ù‹ (ØªÙØªÙŠØ´ Ø£Ø³Ø¨ÙˆØ¹ÙŠ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø³Ù†ÙˆÙŠ)",
Â  Â  Â  Â  Â  "ØªØ«Ø¨ÙŠØª Ù„ÙˆØ­Ø© ØªØ¨ÙŠÙ† Ø£Ù‚ØµÙ‰ Ø­Ù…ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ù…Ø£Ù…ÙˆÙ†Ø© Ø¹Ù„Ù‰ ÙƒÙ„ Ø¢Ù„Ø© Ø±ÙØ¹",
Â  Â  Â  Â  Â  "Ø¥Ø¹Ø¯Ø§Ø¯ Ø³Ø¬Ù„ Ø®Ø§Øµ Ù„ÙƒÙ„ Ø¢Ù„Ø© Ø±ÙØ¹ ÙŠØ´Ù…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ†Ø¹ØŒ Ø§Ù„Ø­Ù…Ù„ Ø§Ù„Ø£Ù‚ØµÙ‰ØŒ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø¯ÙˆØ±ÙŠØŒ Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª",
Â  Â  Â  Â  Â  "ØªØ²ÙˆÙŠØ¯ Ù…Ø´ØºÙ‘Ù„ Ø¢Ù„Ø© Ø§Ù„Ø±ÙØ¹ Ø¨ÙˆØ³ÙŠÙ„Ø© Ø§ØªØµØ§Ù„ ØµØ§Ù„Ø­Ø© Ù‚Ø¨Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ù…Ù„",
Â  Â  Â  Â  Â  "ØªØ­Ø¯ÙŠØ¯ Ù…Ø³Ø§Ø±Ø§Øª Ø¢Ù„Ø§Øª Ø§Ù„Ø±ÙØ¹ Ø¨ÙˆØ³Ø§Ø¦Ù„ ØªØ­Ø°ÙŠØ± ÙˆÙ…Ù†Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„Ø£Ø´Ø®Ø§Øµ Ø£Ùˆ ÙˆÙ‚ÙˆÙÙ‡Ù… ØªØ­Øª Ø§Ù„Ø£Ø­Ù…Ø§Ù„ Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©",
Â  Â  Â  Â  Â  "ØªØ´ØºÙŠÙ„ Ø¢Ù„Ø§Øª Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„Ø¬Ø± ÙˆØ§Ù„Ù†Ù‚Ù„ ÙŠÙ‚ØªØµØ± Ø¹Ù„Ù‰ Ø£Ø´Ø®Ø§Øµ Ù…Ø®ØªØµÙŠÙ† ÙˆÙ…Ø¤Ù‡Ù„ÙŠÙ† ÙˆÙ…Ø±Ø®Ù‘ØµÙŠÙ†",
Â  Â  Â  Â  Â  "ØªØ£Ù…ÙŠÙ† ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© ÙˆØ¥Ø¬Ø±Ø§Ø¡ ÙØ­Øµ Ø¯ÙˆØ±ÙŠ Ù„Ù‡Ø§ ÙˆÙÙ‚Ø§Ù‹ Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ù„Ø§Ù…Ø©",
Â  Â  Â  Â  Â  "ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ù…Ø¹Ø¯Ø§Øª ÙˆÙÙ‚ Ø£ØµÙˆÙ„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ù„ÙŠÙ…ØŒ Ù…Ø¹ Ø¹Ø²Ù„ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø®Ø·Ø±Ø© ÙÙŠ Ù…Ø®Ø§Ø²Ù† Ø®Ø§ØµØ©",
Â  Â  Â  Â  Â  "ÙˆØ¶Ø¹ Ù„Ø§ÙØªØ§Øª Ø¥Ø±Ø´Ø§Ø¯ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø§Ø²Ù† ØªØ¨ÙŠÙ† Ø¯Ø±Ø¬Ø© Ø§Ù„Ø®Ø·ÙˆØ±Ø© ÙˆØ·Ø±Ù‚ Ø§Ù„ØªØ¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¢Ù…Ù†"
Â  Â  Â  Â  ],
Â  Â  Â  Â  ch5:["Ù…ÙØ§ØªÙŠØ­ Ø¹Ø²Ù„ Ø¢Ù…Ù†Ø© ÙˆØ¨Ø£Ù…Ø§ÙƒÙ† Ø¸Ø§Ù‡Ø±Ø©","Ù‚ÙˆØ§Ø·Ø¹ Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ© Ù„Ù„Ø£Ø¹Ø·Ø§Ù„","Ù„ÙˆØ­Ø§Øª ØªÙˆØ²ÙŠØ¹ ÙÙŠ Ø£Ù…Ø§ÙƒÙ† Ø¢Ù…Ù†Ø©","Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„ÙˆØ­Ø§Øª Ù„Ù„ØªØ®Ø²ÙŠÙ†","Ø¹Ø²Ù„ ÙƒØ§Ù…Ù„ Ù„Ù„Ø£Ø³Ù„Ø§Ùƒ ÙˆØ§Ù„ÙƒØ§Ø¨Ù„Ø§Øª","ÙØ­Øµ Ø¯ÙˆØ±ÙŠ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© ÙÙˆØ±ÙŠØ©","Ø¹Ø§Ù…Ù„ÙˆÙ† Ù…Ø¤Ù‡Ù„ÙˆÙ†","Ø¹Ø²Ù„ Ø§Ù„ØªÙŠØ§Ø± Ù‚Ø¨Ù„ Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØªØ­Ø°ÙŠØ±Ø§Øª","Ù‚ÙØ§Ø²Ø§Øª/Ø£Ø­Ø°ÙŠØ© Ø¹Ø§Ø²Ù„Ø© ÙˆÙ…Ù†Ø¹ Ø§Ù„Ù…Ø¬ÙˆÙ‡Ø±Ø§Øª","ØªØ£Ø±ÙŠØ¶ Ø§Ù„Ø³ØªØ§ØªÙŠÙƒ","Ù…Ø¹Ø¯Ø§Øª Ø¥Ø·ÙØ§Ø¡ Ø­Ø±Ø§Ø¦Ù‚ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©","ÙØ­ÙˆØµ Ø·Ø¨ÙŠØ© Ù„Ù„Ø¹Ø§Ù…Ù„ÙŠÙ† Ø¨Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡","Ù„ÙˆØ­Ø§Øª ØªØ­Ø°ÙŠØ± ÙˆØ§Ø¶Ø­Ø©"],
Â  Â  Â  Â  ch6:["Ø¥Ø¶Ø§Ø¡Ø© ÙƒØ§ÙÙŠØ© ÙˆÙ…ØªØ¬Ø§Ù†Ø³Ø©","Ø§Ù„Ø­Ø¯ Ù…Ù† Ø§Ù„Ø¶ÙˆØ¶Ø§Ø¡/Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²Ø§Øª","Ø­Ø±Ø§Ø±Ø© Ø¹Ù…Ù„ Ø¶Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯","ÙˆÙ‚Ø§ÙŠØ© Ù„Ù„Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…ÙƒØ´ÙˆÙØ©","ØªÙ‡ÙˆÙŠØ© ÙƒØ§ÙÙŠØ©","Ø­ÙˆØ§Ø¬Ø² Ø­Ø±Ø§Ø±ÙŠØ© Ù„Ù„Ø£ÙØ±Ù† ÙˆØ§Ù„Ù„Ø­Ø§Ù…"],
Â  Â  Â  Â  ch7:["Ø­Ø¯ÙˆØ¯ Ø§Ù„ØªØ¹Ø±Ø¶ Ù„Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©","Ø´ÙØ·/ØªÙ‡ÙˆÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ù…ØµØ¯Ø±","Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø¨Ø¨Ø¯Ø§Ø¦Ù„ Ø£Ù‚Ù„ Ø®Ø·Ø±Ø§Ù‹","ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ù…ÙØªØ´ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯","ØªÙ†Ø¸ÙŠÙ Ø±Ø·Ø¨/Ø´ÙØ· Ø¯ÙˆØ±ÙŠ"],
Â  Â  Â  Â  ch8:["Ø£Ù…Ø§ÙƒÙ† Ø±Ø§Ø­Ø©/Ø·Ø¹Ø§Ù… ÙˆÙÙ‚ Ø§Ø´ØªØ±Ø§Ø·Ø§Øª","ØºØ±Ù ØªØ¨Ø¯ÙŠÙ„ ÙˆØ®Ø²Ø§Ø¦Ù†","Ø­Ù…Ø§Ù…Ø§Øª ÙˆÙ…ÙˆØ§Ø¯ ØªÙ†Ø¸ÙŠÙ","Ù…ÙŠØ§Ù‡ Ø´Ø±Ø¨ Ù…Ø¨Ø±Ø¯Ø© ÙƒØ§ÙÙŠØ©","Ø¹Ø¯Ø¯ ÙƒØ§ÙÙ Ù…Ù† Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù…ÙŠØ§Ù‡","ØµØ±Ù ØµØ­ÙŠ Ù…Ù„Ø§Ø¦Ù… Ù„Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù†Ø§Ø¦ÙŠØ©"],
Â  Â  Â  Â  ergo:["Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø·Ø§ÙˆÙ„Ø© Ù…Ù†Ø§Ø³Ø¨","ÙƒØ±Ø³ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø¯Ø¹Ù… Ø£Ø³ÙÙ„ Ø§Ù„Ø¸Ù‡Ø±","Ù…Ø³Ø§ÙØ© Ø±Ø¤ÙŠØ© Ø§Ù„Ø´Ø§Ø´Ø© Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§","Ù…Ù†Ø§ÙˆÙ„Ø© ÙŠØ¯ÙˆÙŠØ© Ø¶Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯"]
Â  Â  Â  },
Â  Â  Â  en:{
Â  Â  Â  Â  ch1:["Safety manual available","Identify work hazards","Submit approved drawings","Train workers before work","Provide PPE free","Penalty policy","Clear safety signs","Appoint safety supervisor","Supervisor certified","High-risk: safety dept.","Regular training","Periodic inspections","Report serious accidents","Keep updated records"],
Â  Â  Â  Â  ch2:["Sound buildings/roofs","Yard shades/roofs","Marked passages & safe exits","Safe clean floors & drainage","Waste/chemicals disposal","Regular maintenance","Fall/excavation precautions","Sturdy non-slip ladders","Safe scaffolds with guardrails","Licensed safe platforms","Isolate dust/fumes with extraction","Inspect pressure vessels","Serviceable tools stored","Adequate extinguishers"],
Â  Â  Â  Â  ch3:["Train on machine guarding","No operation without guards","Do not disable guards","60 cm clearance","Permanent guards","Remove guards only when stopped","Emergency stop nearby","Regular maintenance records","No cleaning during operation","Protect from sparks/debris"],
Â  Â  Â  Â  ch4:[
Â  Â  Â  Â  Â  "Materials and raw substances are handled safely without endangering workers",
Â  Â  Â  Â  Â  "Proper lifting equipment is used and inspected weekly & tested at least annually",
Â  Â  Â  Â  Â  "Maximum safe load is clearly displayed on each lifting machine",
Â  Â  Â  Â  Â  "A logbook is maintained for each lifting machine (manufacture date, safe load, inspections, maintenance)",
Â  Â  Â  Â  Â  "Lifting machine operator is provided with a working communication device before operation",
Â  Â  Â  Â  Â  "Lifting paths are marked with warnings; no personnel are allowed under suspended loads",
Â  Â  Â  Â  Â  "Only trained, licensed, and authorized personnel operate lifting/hauling/transport machines",
Â  Â  Â  Â  Â  "Mechanical transport equipment is secured and regularly inspected per safety requirements",
Â  Â  Â  Â  Â  "Materials are stored safely; hazardous substances are isolated in designated storage",
Â  Â  Â  Â  Â  "Warning signs are posted on storage areas showing hazard level and safe handling methods"
Â  Â  Â  Â  ],
Â  Â  Â  Â  ch5:["Isolation switches","Automatic breakers","Safe distribution boards","No storage in panels","Insulated cables","Periodic inspection","Qualified electricians","Isolate power before maintenance","Insulated PPE; no jewelry","Static grounding","Electrical fire equipment","Medical exams","Warning signs"],
Â  Â  Â  Â  ch6:["Adequate lighting","Noise/vibration control","Safe work temperature","Outdoor worker protection","Adequate ventilation","Heat shields"],
Â  Â  Â  Â  ch7:["Within exposure limits","Extract at source","Substitute safer materials","Inspectors access chemicals","Wet/vacuum cleaning"],
Â  Â  Â  Â  ch8:["Rest/eating areas","Changing rooms","Showers with supplies","Safe cool drinking water","Sufficient toilets","Approved sewage for remote sites"],
Â  Â  Â  Â  ergo:["Desk height ok","Adjustable chair lumbar","Proper viewing distance","Manual handling within limits"]
Â  Â  Â  }
Â  Â  };

Â  Â  // ===== Ø¹Ù†Ø§ØµØ± DOM (ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© exportAuditorHtml) =====
Â  Â  const els = {
Â  Â  Â  companyLogo: document.getElementById('companyLogo'),
Â  Â  Â  logoInput: document.getElementById('logoInput'),
Â  Â  Â  chapterNo: document.getElementById('chapterNo'),
Â  Â  Â  chapterName: document.getElementById('chapterName'),
Â  Â  Â  title: document.getElementById('title'),
Â  Â  Â  tbody: document.querySelector('#tbl tbody'),
Â  Â  Â  filter: document.getElementById('filter'),
Â  Â  Â  client: document.getElementById('client'),
Â  Â  Â  site: document.getElementById('site'),
Â  Â  Â  langAr: document.getElementById('langAr'),
Â  Â  Â  langEn: document.getElementById('langEn'),
Â  Â  Â  saveDraft: document.getElementById('saveDraft'),
Â  Â  Â  clearDraft: document.getElementById('clearDraft'),
Â  Â  Â  selectAll: document.getElementById('selectAll'),
Â  Â  Â  clearAll: document.getElementById('clearAll'),
Â  Â  Â  addRow: document.getElementById('addRow'),
Â  Â  Â  deleteChecked: document.getElementById('deleteChecked'),
Â  Â  Â  exportPdf: document.getElementById('exportPdf'),
Â  Â  Â  tplUserContainer: document.getElementById('tplUserContainer'),
Â  Â  Â  saveAsTemplate: document.getElementById('saveAsTemplate'),
Â  Â  Â  pasteFromWord: document.getElementById('pasteFromWord'),
Â  Â  Â  tplCh1: document.getElementById('tplCh1'),
Â  Â  Â  tplCh2: document.getElementById('tplCh2'),
Â  Â  Â  tplCh3: document.getElementById('tplCh3'),
Â  Â  Â  tplCh4: document.getElementById('tplCh4'),
Â  Â  Â  tplCh5: document.getElementById('tplCh5'),
Â  Â  Â  tplCh6: document.getElementById('tplCh6'),
Â  Â  Â  tplCh7: document.getElementById('tplCh7'),
Â  Â  Â  tplCh8: document.getElementById('tplCh8'),
Â  Â  Â  tplErgo: document.getElementById('tplErgo'),
Â  Â  Â  // Ø®ØµØ§Ø¦Øµ
Â  Â  Â  optAutoFill: document.getElementById('optAutoFill'),
Â  Â  Â  optChecks: document.getElementById('optChecks'),
Â  Â  Â  optRisk: document.getElementById('optRisk'),
Â  Â  Â  optBorderW: document.getElementById('optBorderW'),
Â  Â  Â  optBorderColor: document.getElementById('optBorderColor'),
Â  Â  Â  optLogoIn: document.getElementById('optLogoIn'),
Â  Â  Â  // Ø¨Ø§Ø¨-Ø¨Ø§Ø¨
Â  Â  Â  bundleAdd: document.getElementById('bundleAdd'),
Â  Â  Â  bundleClear: document.getElementById('bundleClear'),
Â  Â  Â  bundleExport: document.getElementById('bundleExport'),
Â  Â  Â  // ØªØµØ¯ÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø§Ø¨
Â  Â  Â  exportThisHtml: document.getElementById('exportThisHtml'),
        exportAuditorHtml: document.getElementById('exportAuditorHtml'), // ØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ©
Â  Â  Â  // Ù„ØµÙ‚
Â  Â  Â  dlg: document.getElementById('pasteDlg'),
Â  Â  Â  dlgNo: document.getElementById('dlgChapterNo'),
Â  Â  Â  dlgName: document.getElementById('dlgChapterName'),
Â  Â  Â  dlgText: document.getElementById('dlgText'),
Â  Â  Â  dlgMode: document.getElementById('dlgMode'),
Â  Â  Â  dlgTplName: document.getElementById('dlgTplName'),
Â  Â  Â  dlgBind: document.getElementById('dlgBindChapter'),
Â  Â  Â  dlgCopyToEn: document.getElementById('dlgCopyToEn'),
Â  Â  Â  dlgCancel: document.getElementById('dlgCancel'),
Â  Â  Â  dlgApply: document.getElementById('dlgApply'),
Â  Â  Â  printBtn: document.getElementById('printBtn'),
Â  Â  Â  btnRunTests: document.getElementById('btnRunTests'),
Â  Â  Â  testOut: document.getElementById('testOut')
Â  Â  };

Â  Â  // ===== Ù‚ÙˆØ§Ù„Ø¨ Ù…Ø®ØµÙ‘ØµØ© (Ø­ÙØ¸ Ù…Ø­Ù„ÙŠ) (Ù„Ù… ØªØªØºÙŠØ±) =====
Â  Â  function loadUserTemplates(){
Â  Â  Â  try{ return JSON.parse(localStorage.getItem(LS_KEY_TPL)) || {ar:{},en:{}}; }
Â  Â  Â  catch{ return {ar:{},en:{}}; }
Â  Â  }
Â  Â  function saveUserTemplates(obj){
Â  Â  Â  try{ localStorage.setItem(LS_KEY_TPL, JSON.stringify(obj)); }
Â  Â  Â  catch(e){ console.warn('save tpl failed', e); }
Â  Â  }
Â  Â  function renderUserTemplates(){
Â  Â  Â  const store = loadUserTemplates();
Â  Â  Â  els.tplUserContainer.innerHTML = '';
Â  Â  Â  const map = store[state.lang] || {};
Â  Â  Â  Object.keys(map).forEach(name=>{
Â  Â  Â  Â  const b = document.createElement('button');
Â  Â  Â  Â  b.className='btn'; b.textContent = `ğŸ“„ ${name}`;
Â  Â  Â  Â  b.addEventListener('click', ()=>{
Â  Â  Â  Â  Â  const isReplace = confirm('Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ø§Ù„Ù‚Ø§Ù„Ø¨ØŸ\nOK = Ø§Ø³ØªØ¨Ø¯Ø§Ù„\nCancel = Ø¥Ø¶Ø§ÙØ©');
Â  Â  Â  Â  Â  applyTemplateFromArray(map[name], isReplace? 'replace':'append');
Â  Â  Â  Â  });
Â  Â  Â  Â  els.tplUserContainer.appendChild(b);
Â  Â  Â  });
Â  Â  }

Â  Â  // ===== Ø±Ø¨Ø· Ø£Ø¨ÙˆØ§Ø¨ Ù„Ù„ØªØ¹Ø¨Ø¦Ø© (Ù„Ù… ØªØªØºÙŠØ±) =====
Â  Â  function loadChapterMap(){ try{ return JSON.parse(localStorage.getItem(LS_KEY_CHMAP)) || {}; }catch{ return {}; } }
Â  Â  function saveChapterMap(map){ try{ localStorage.setItem(LS_KEY_CHMAP, JSON.stringify(map)); }catch(e){ console.warn('save chapter map failed', e); } }
Â  Â  const AR_DIGITS = {'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9'};
Â  Â  function normalizeDigits(s){ return String(s||'').replace(/[Ù -Ù©]/g, d=>AR_DIGITS[d]).replace(/[^0-9.]/g,'').trim(); }
Â  Â  function stripDiacritics(s){ return String(s||'').replace(/[\u064B-\u065F\u0670\u06D6-\u06ED]/g,''); }
Â  Â  function normalizeName(s){ return stripDiacritics(String(s||'').replace(/\u0640/g,'')).toLowerCase().replace(/[\s\-â€“â€”_]+/g,' ').trim(); }
Â  Â  function chapterKey(num,name){ const n=normalizeDigits(num); const nm=normalizeName(name); return n+'|'+nm; }

Â  Â  function setChapterTemplate(num,name, arrAr, arrEn){ const map = loadChapterMap(); const key = chapterKey(num,name); map[key] = { ar: (arrAr||[]), en: (arrEn||[]) }; saveChapterMap(map); }
Â  Â  function findChapterTemplate(num,name){
Â  Â  Â  const map = loadChapterMap();
Â  Â  Â  const n=normalizeDigits(num), nm=normalizeName(name);
Â  Â  Â  const entries = Object.entries(map);
Â  Â  Â  let hit = entries.find(([k])=>{const [kn,knm]=k.split('|'); return kn===n && knm===nm;});
Â  Â  Â  if(hit) return hit[1];
Â  Â  Â  if(n){ hit = entries.find(([k])=>k.split('|')[0]===n); if(hit) return hit[1]; }
Â  Â  Â  if(nm){ hit = entries.find(([k])=>k.split('|')[1]===nm); if(hit) return hit[1]; }
Â  Â  Â  if(n==='1') return { ar: templates.ar.ch1, en: templates.en.ch1 };
Â  Â  Â  if(n==='2') return { ar: templates.ar.ch2, en: templates.en.ch2 };
Â  Â  Â  if(n==='3') return { ar: templates.ar.ch3, en: templates.en.ch3 };
Â  Â  Â  if(n==='4') return { ar: templates.ar.ch4, en: templates.en.ch4 };
Â  Â  Â  if(n==='5') return { ar: templates.ar.ch5, en: templates.en.ch5 };
Â  Â  Â  if(n==='6') return { ar: templates.ar.ch6, en: templates.en.ch6 };
Â  Â  Â  if(n==='7') return { ar: templates.ar.ch7, en: templates.en.ch7 };
Â  Â  Â  if(n==='8') return { ar: templates.ar.ch8, en: templates.en.ch8 };
Â  Â  Â  if(nm.includes('ØªØ¯Ø§ÙˆÙ„') || (nm.includes('ØªØ®Ø²ÙŠÙ†') && nm.includes('Ù…ÙˆØ§Ø¯'))) return { ar: templates.ar.ch4, en: templates.en.ch4 };
Â  Â  Â  if(nm.includes('Ø§Ø­ØªÙŠØ§Ø·Ø§Øª') && nm.includes('Ø§Ù„Ø³Ù„Ø§Ù…Ø©')) return { ar: templates.ar.ch2, en: templates.en.ch2 };
Â  Â  Â  if(nm.includes('Ø§Ù„Ø­Ù…Ø§ÙŠØ©') && (nm.includes('Ø§Ù„Ø§Øª') || nm.includes('Ø§Ù„Ø§Ù„Ø§Øª') || nm.includes('Ø§Ù„Ø¢Ù„Ø§Øª'))) return { ar: templates.ar.ch3, en: templates.en.ch3 };
Â  Â  Â  if(nm.includes('Ø§Ù„ÙˆÙ‚Ø§ÙŠØ©') && nm.includes('Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡')) return { ar: templates.ar.ch5, en: templates.en.ch5 };
Â  Â  Â  if(nm.includes('Ø§Ù„Ù…Ø±Ø§ÙÙ‚') && nm.includes('Ø§Ù„Ø¹Ø§Ù…Ø©')) return { ar: templates.ar.ch8, en: templates.en.ch8 };
Â  Â  Â  if(nm.includes('ergonomic')) return { ar: templates.ar.ergo, en: templates.en.ergo };
Â  Â  Â  if((nm.includes('handling') || nm.includes('storage')) && nm.includes('material')) return { ar: templates.ar.ch4, en: templates.en.ch4 };
Â  Â  Â  return null;
Â  Â  }
Â  Â  function tryAutoFillFromChapter(){
Â  Â  Â  if(!state.options.autoFill) return;
Â  Â  Â  const no = els.chapterNo.value.trim();
Â  Â  Â  const nm = els.chapterName.value.trim();
Â  Â  Â  const tpl = findChapterTemplate(no, nm);
Â  Â  Â  if(tpl){ state.items.ar = (tpl.ar||[]).slice(); state.items.en = (tpl.en||[]).slice(); renderTable(); persist(); }
Â  Â  }

Â  Â  // ===== ÙˆØ¸Ø§Ø¦Ù ÙˆØ§Ø¬Ù‡Ø© (Ù„Ù… ØªØªØºÙŠØ±) =====
Â  Â  function multiMatch(text, query){ if(!query) return true; const parts = query.split(/\s+/).map(s=>s.trim().toLowerCase()).filter(Boolean); const t = String(text).toLowerCase(); return parts.every(p=>t.includes(p)); }

Â  Â  function renderTable(){
Â  Â  Â  const list = state.items[state.lang] || [];
Â  Â  Â  const q = els.filter.value.trim();
Â  Â  Â  els.tbody.innerHTML = '';
Â  Â  Â  list.forEach((txt, idx)=>{
Â  Â  Â  Â  if(q && !multiMatch(txt, q)) return;
Â  Â  Â  Â  const tr = document.createElement('tr');
Â  Â  Â  Â  tr.draggable = true; tr.dataset.row = idx;
Â  Â  Â  Â  const safe = String(txt||'').replace(/</g,'&lt;').replace(/>/g,'&gt;');
Â  Â  Â  Â  tr.innerHTML = `<td><div class="rowlead"><input type="checkbox" class="pick" checked><span class="ord">${idx+1}</span></div></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td contenteditable="true" data-index="${idx}">${safe}</td>`;
Â  Â  Â  Â  els.tbody.appendChild(tr);
Â  Â  Â  });
Â  Â  }

Â  Â  function updateTitle(){
Â  Â  Â  const no = els.chapterNo.value.trim();
Â  Â  Â  let nm = els.chapterName.value.trim();
Â  Â  Â  if(!no && !nm) nm = 'ergonomic';
Â  Â  Â  if(state.lang==='ar'){
Â  Â  Â  Â  els.title.textContent = 'Ù‚Ø§Ø¦Ù…Ø© ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø© â€“ ' + (no? ('Ø§Ù„Ø¨Ø§Ø¨ ' + no + ' â€“ ') : '') + (nm||'');
Â  Â  Â  Â  document.documentElement.lang='ar'; document.documentElement.dir='rtl'; document.body.dir='rtl';
Â  Â  Â  } else {
Â  Â  Â  Â  els.title.textContent = 'Safety Audit Checklist â€“ ' + (no? ('Chapter ' + no + ' â€“ ') : '') + (nm||'');
Â  Â  Â  Â  document.documentElement.lang='en'; document.documentElement.dir='ltr'; document.body.dir='ltr';
Â  Â  Â  }
Â  Â  }

Â  Â  function persist(){
Â  Â  Â  const payload = { v:22, lang: state.lang, logoDataURL: state.logoDataURL, items: state.items, chapter: state.chapter, options: state.options, sections: state.sections };
Â  Â  Â  try{ localStorage.setItem(LS_KEY_DRAFT, JSON.stringify(payload)); } catch(e){ console.warn('persist failed', e); }
Â  Â  Â  try{ localStorage.setItem(LS_KEY_SECTIONS, JSON.stringify(state.sections)); } catch(e){}
Â  Â  }
Â  Â  function restore(){
Â  Â  Â  const raw = localStorage.getItem(LS_KEY_DRAFT);
Â  Â  Â  if(raw){
Â  Â  Â  Â  try{
Â  Â  Â  Â  Â  const d = JSON.parse(raw);
Â  Â  Â  Â  Â  if(d.lang) state.lang = d.lang;
Â  Â  Â  Â  Â  if(d.logoDataURL){ state.logoDataURL = d.logoDataURL; els.companyLogo.src = d.logoDataURL; els.companyLogo.hidden = !d.logoDataURL; }
Â  Â  Â  Â  Â  if(d.chapter) state.chapter = d.chapter;
Â  Â  Â  Â  Â  if(d.items && d.items.ar && d.items.en) state.items = d.items;
Â  Â  Â  Â  Â  if(d.options) state.options = Object.assign(state.options, d.options);
Â  Â  Â  Â  Â  if(Array.isArray(d.sections)) state.sections = d.sections;
Â  Â  Â  Â  }catch(e){ console.warn('restore failed', e); }
Â  Â  Â  }
Â  Â  Â  els.chapterNo.value = state.chapter.number || '';
Â  Â  Â  els.chapterName.value = state.chapter.name || '';
Â  Â  Â  els.optChecks.checked = !!state.options.includeChecks;
Â  Â  Â  els.optRisk.checked = !!state.options.includeRisk;
Â  Â  Â  els.optBorderW.value = state.options.borderW;
Â  Â  Â  els.optBorderColor.value = state.options.borderColor;
Â  Â  Â  els.optLogoIn.value = state.options.logoIn;
Â  Â  Â  els.optAutoFill.checked = !!state.options.autoFill;
Â  Â  Â  if(state.logoDataURL){ els.companyLogo.hidden=false; }
Â  Â  Â  updateTitle(); renderTable(); renderUserTemplates();
Â  Â  }
    
    // ===== Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ù…Ø¯Ù‚Ù‚ (Ù…Ø¶Ø§ÙØ©) =====
    const AUDITOR_SAVE_SCRIPT = `
    <script>
    function downloadAuditFile() {
        const htmlContent = document.documentElement.outerHTML;
        const blob = new Blob([htmlContent], {type: 'text/html'});
        const url = URL.createObjectURL(blob);
        
        let fileName = 'Safety_Audit_Report.html';
        const clientName = document.getElementById('client').value.trim() || 'Client';
        const chapterNo = document.getElementById('chapterNo').value.trim() || 'Chap';
        const auditor = document.getElementById('auditorName').value.trim().replace(/\\s/g, '_') || 'Auditor';
        
        fileName = \`${clientName}_\${chapterNo}_\${auditor}_Completed.html\`;

        const a = document.createElement('a');
        a.href = url;
        a.download = fileName;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ ÙƒÙ…Ù„Ù HTML. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…ÙØ­ÙÙØ¸ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„.');
    }

    document.addEventListener('DOMContentLoaded', function() {
        const saveBtn = document.getElementById('saveCompletedBtn');
        if (saveBtn) {
            saveBtn.addEventListener('click', downloadAuditFile);
        }
    });
    </script>
    `;

Â  Â  // ===== Ø¨Ù†Ø§Ø¡ HTML Ù„Ù„Ø¹Ù…ÙŠÙ„ (Ø¨Ø§Ø¨ ÙˆØ§Ø­Ø¯) (ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„) =====
Â  Â  function buildClientHTMLOne(sec, isAuditorVersion = false){ // ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© isAuditorVersion
Â  Â  Â  const t=(state.lang==='ar'); const opt=state.options;
Â  Â  Â  const title=(t?'Ù‚Ø§Ø¦Ù…Ø© ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø³Ù„Ø§Ù…Ø© â€“ ':'Safety Audit Checklist â€“ ')
Â  Â  Â  Â  +(sec.no? (t? 'Ø§Ù„Ø¨Ø§Ø¨ '+sec.no+' â€“ ' : 'Chapter '+sec.no+' â€“ '):'')+(sec.name||'');
Â  Â  Â  const lblClient=t?'Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„:':'Client:'; const lblSite=t?'Ø§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹:':'Site:'; 
      const lblAud=t?'Ø§Ù„Ù…Ø¯Ù‚Ù‚:':'Auditor:'; const lblNotes=t?'Ù…Ù„Ø§Ø­Ø¸Ø§Øª':'Notes'; 
      const lblNo=t?'Ù…':'No.'; const lblRisk=t?'Ø§Ù„Ù…Ø®Ø§Ø·Ø± (1â€“5)':'Risk (1â€“5)';
      const lblDate=t?'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚:':'Audit Date:';
Â  Â  Â  const list = (state.lang==='ar'? sec.itemsAr: sec.itemsEn) || [];
Â  Â  Â  const rows=list.map((txt,i)=>{
Â  Â  Â  Â  const cells=[`<td>${i+1}</td>`,`<td contenteditable="${isAuditorVersion?'false':'true'}">${String(txt).replace(/</g,'&lt;').replace(/>/g,'&gt;')}</td>`];
Â  Â  Â  Â  if(opt.includeChecks){ cells.push(`<td><input type="checkbox"></td>`,`<td><input type="checkbox"></td>`); }
Â  Â  Â  Â  if(opt.includeRisk){ cells.push('<td contenteditable="true" style="text-align:center;min-width:60px"></td>'); }
Â  Â  Â  Â  cells.push('<td contenteditable="true" class="note"></td>');
Â  Â  Â  Â  return `<tr>${cells.join('')}</tr>`;
Â  Â  Â  }).join('');
Â  Â  Â  const logoHTML= state.logoDataURL? `<div style="text-align:center;margin-bottom:10px"><img src="${state.logoDataURL}" alt="logo" style="height:${opt.logoIn}in;object-fit:contain"></div>`:'';
Â  Â  Â  const checksHdr=opt.includeChecks?'<th>âœ”</th><th>âœ–</th>':''; const riskHdr=opt.includeRisk?`<th>${lblRisk}</th>`:'';
      
      // Ø¹Ù†Ø§ØµØ± ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø¯Ù‚Ù‚ (Ù…Ø¶Ø§ÙØ©)
      const auditorInputs = isAuditorVersion ? 
      `<div style="margin-bottom:10px; display:flex; gap:20px; flex-wrap:wrap">
          <label><strong>${lblAud}</strong> <input id="auditorName" type="text" value="" style="border:none;border-bottom:1px solid #000;min-width:150px;padding:2px 0;text-align:center"></label>
          <label><strong>${lblDate}</strong> <input type="date" value="${new Date().toISOString().slice(0, 10)}" style="border:none;border-bottom:1px solid #000;min-width:150px;padding:2px 0;text-align:center"></label>
          <button id="saveCompletedBtn" style="margin-inline-start:auto; padding:8px 14px; border-radius:10px; cursor:pointer; font-size:14px; border:1px solid #007bff; background:#007bff; color:#fff; min-width:200px">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ÙØ¹Ø¨Ø£ ÙˆØ¥Ø±Ø³Ø§Ù„Ù‡</button>
      </div>`
      : 
      `<div><strong>${lblAud}</strong> <div contenteditable="true" style="display:inline-block;min-width:200px;border-bottom:1px solid #000"></div></div>`;


Â  Â  Â  return `<!doctype html><html lang="${t?'ar':'en'}" dir="${t?'rtl':'ltr'}"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>${title}</title>
<style>
@page{size:A4;margin:12mm}
body{font-family:${t?"'Noto Kufi Arabic','Cairo',Tahoma,sans-serif":"'Segoe UI','Roboto',Arial,sans-serif"};margin:0;background:#fff}
.page{max-width:794px;margin:12px auto;border:${opt.borderW}px solid ${opt.borderColor};border-radius:10px;padding:18px}
h1{margin:0 0 10px;text-align:center}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{border:1px solid #ccc;padding:8px;vertical-align:top}
th{background:#eef2ff}
td.note{min-height:40px;max-height:60px;overflow-y:auto;white-space:pre-wrap;word-wrap:break-word}
/* Ù„Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ ÙÙ‚Ø· */
[contenteditable="true"]{outline:1px dashed #ccc; min-height:1.5em; cursor:text;}
</style>
</head><body>
<div class="page">
Â  ${logoHTML}
Â  <h1>${title}</h1>
Â  <div><strong>${lblClient}</strong> <input id="client" type="text" value="${els.client.value||''}" style="border:none;border-bottom:1px solid #000;min-width:200px;padding:2px 0" readonly></div>
Â  <div><strong>${lblSite}</strong> <input type="text" value="${els.site.value||''}" style="border:none;border-bottom:1px solid #000;min-width:200px;padding:2px 0" readonly></div>
Â  ${auditorInputs}
Â  <table>
Â  Â  <thead><tr><th>${lblNo}</th><th>${t?'Ø§Ù„Ø¨Ù†Ø¯':'Item'}</th>${checksHdr}${riskHdr}<th>${lblNotes}</th></tr></thead>
Â  Â  <tbody>${rows}</tbody>
Â  </table>
</div>
${isAuditorVersion ? AUDITOR_SAVE_SCRIPT : ''}
</body></html>`;
Â  Â  }

Â  Â  // ===== ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ (Ù„Ù… ØªØªØºÙŠØ±) =====
Â  Â  function applyTemplateFromArray(arr, mode){ const set = Array.isArray(arr)? arr.filter(x=>typeof x==='string' && x.trim()) : []; if(!set.length){ alert('Ø§Ù„Ù‚Ø§Ù„Ø¨ ÙØ§Ø±Øº'); return; } if(mode==='replace') state.items[state.lang] = [...set]; else state.items[state.lang].push(...set); renderTable(); persist(); }
Â  Â  function askAndApply(key){ const set=(templates[state.lang] && templates[state.lang][key])? templates[state.lang][key]:[]; const isReplace=confirm('Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø¨Ù†ÙˆØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ø§Ù„Ù‚Ø§Ù„Ø¨ØŸ\nOK = Ø§Ø³ØªØ¨Ø¯Ø§Ù„\nCancel = Ø¥Ø¶Ø§ÙØ©'); applyTemplateFromArray(set, isReplace?'replace':'append'); }

Â  Â  // ===== Ø£Ø­Ø¯Ø§Ø« Ø¹Ø§Ù…Ø© (ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø²Ø± Ø§Ù„ØªØµØ¯ÙŠØ± Ù„Ù„Ù…Ø¯Ù‚Ù‚) =====
Â  Â  function getCheckedItemsText(){
Â  Â  Â  return [...document.querySelectorAll('#tbl tbody tr')]
Â  Â  Â  Â  .filter(r=>r.querySelector('.pick')?.checked)
Â  Â  Â  Â  .map(r=>r.cells[1].innerText.trim()).filter(Boolean);
Â  Â  }
Â  Â  function onReorderDrop(e){ e.preventDefault(); const from=parseInt(e.dataTransfer.getData('text/plain'),10); const toTr=e.target.closest('tr'); if(!toTr) return; const to=parseInt(toTr.dataset.row,10); if(Number.isNaN(from)||Number.isNaN(to)||from===to) return; const arr=state.items[state.lang]; const [moved]=arr.splice(from,1); arr.splice(to,0,moved); renderTable(); persist(); }

Â  Â  // Ù„ØºØ© ÙˆØ­Ù‚ÙˆÙ„ (Ù„Ù… ØªØªØºÙŠØ±)
Â  Â  els.langAr.onclick=()=>{ state.lang='ar'; updateTitle(); renderTable(); persist(); renderUserTemplates(); tryAutoFillFromChapter(); };
Â  Â  els.langEn.onclick=()=>{ state.lang='en'; updateTitle(); renderTable(); persist(); renderUserTemplates(); tryAutoFillFromChapter(); };
Â  Â  els.optAutoFill.onchange=()=>{ state.options.autoFill = els.optAutoFill.checked; persist(); };
Â  Â  els.optChecks.onchange=()=>{ state.options.includeChecks = els.optChecks.checked; persist(); };
Â  Â  els.optRisk.onchange=()=>{ state.options.includeRisk = els.optRisk.checked; persist(); };
Â  Â  els.optBorderW.oninput=()=>{ state.options.borderW=+els.optBorderW.value||0; persist(); };
Â  Â  els.optBorderColor.oninput=()=>{ state.options.borderColor=els.optBorderColor.value; persist(); };
Â  Â  els.optLogoIn.oninput=()=>{ state.options.logoIn=+els.optLogoIn.value||1.3; persist(); };

Â  Â  // ØªØµØ¯ÙŠØ± Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¯Ù‚Ù‚ (Ù…Ø¶Ø§ÙØ©)
Â  Â  els.exportAuditorHtml.onclick = () => {
Â  Â  Â  const clientSec = {
Â  Â  Â  Â  no: els.chapterNo.value.trim(),
Â  Â  Â  Â  name: els.chapterName.value.trim(),
Â  Â  Â  Â  itemsAr: state.items.ar,
Â  Â  Â  Â  itemsEn: state.items.en,
Â  Â  Â  };
Â  Â  Â  // ØªÙˆÙ„ÙŠØ¯ Ù†Ø³Ø®Ø© HTML Ù…Ø¹ Ø²Ø± Ø§Ù„Ø­ÙØ¸
Â  Â  Â  const html = buildClientHTMLOne(clientSec, true); 

Â  Â  Â  const blob = new Blob([html], { type: 'text/html' });
Â  Â  Â  const url = URL.createObjectURL(blob);
Â  Â  Â  const a = document.createElement('a');
Â  Â  Â  const chapter = clientSec.no || 'Chap';
Â  Â  Â  const lang = state.lang.toUpperCase();
Â  Â  Â  a.download = `Audit_Work_Chap${chapter}_${lang}.html`;
Â  Â  Â  a.href = url;
Â  Â  Â  document.body.appendChild(a);
Â  Â  Â  a.click();
Â  Â  Â  document.body.removeChild(a);
Â  Â  Â  URL.revokeObjectURL(url);
Â  Â  };
Â  Â  
Â  Â  // Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù… ØªØªØºÙŠØ±
    // ...
    // ... (Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯)
    // ...
</script>
</body>
</html>
